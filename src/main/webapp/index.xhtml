<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/templates/page-template.xhtml">

<ui:define name="pageContent">


	<p:panel header="Credit Calc" toggleable="true" closable="false" toggleSpeed="500" closeSpeed="500" widgetVar="panel">

	<h:form id="bla">

		<h:panelGrid id="grid" columns="3" cellpadding="5">

			<p:outputLabel for="amount" value="Amount:" />
			<p:inputText id="amount" value="#{creditBB.amount}" required="true" requiredMessage="Nie podano kwoty" converterMessage="Kwota musi być liczbą całkowitą" validatorMessage="Kwota pożyczki musi mieścić się w przedziale 1000 - 50 000"  >
			<f:validateDoubleRange minimum ="1000" maximum="50000"/>
			</p:inputText>
			<p:message for="amount" />
			<p:outputLabel for="years" value="Years:" />
			<p:inputText id="years" value="#{creditBB.years}" required="true" requiredMessage="Nie podano na ile lat" converterMessage="Lata muszą być liczbą całkowitą" validatorMessage="Minimalna długość spłacania pożyczki to rok" >
			<f:validateDoubleRange minimum ="1"/>
			</p:inputText>
			<p:message for="years" />
			<p:outputLabel for="percentages" value="Precentages:" />
			<p:inputText id="percentages" value="#{creditBB.percentages}" required="true" requiredMessage="Nie podano oprocentowania" converterMessage="Oprocentowanie musi być liczbą całkowitą" validatorMessage="Minimalne oprocentowanie wynosi 1% natomiast maksymalne 10%" >
			<f:validateDoubleRange minimum ="1" maximum="10"/>
			</p:inputText>
			<p:message for="percentages" />

			<p:commandButton value="Oblicz" action="#{creditBB.calc()}" update="@form" />

			<p:commandButton value="Oblicz (AJAX)" action="#{creditBB.calc_AJAX()}" update="msg, @form" />

		</h:panelGrid>
		
		<p:messages id="msg" closable="true" severity="info, warn" />


	</h:form>
	
	<h:form id="blav2">
	
	<p:commandLink id="nonAjax" action="#{creditBB.info()}" ajax="false" >
            <h:outputText value="Instrukcje działania"/>
            </p:commandLink>

</h:form> 
</p:panel>

</ui:define>

</ui:composition>

</html>